(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["renz"],{"02f4":function(e,t,n){var r=n("4588"),a=n("be13");e.exports=function(e){return function(t,n){var o,i,c=String(a(t)),s=r(n),l=c.length;return s<0||s>=l?e?"":void 0:(o=c.charCodeAt(s),o<55296||o>56319||s+1===l||(i=c.charCodeAt(s+1))<56320||i>57343?e?c.charAt(s):o:e?c.slice(s,s+2):i-56320+(o-55296<<10)+65536)}}},"0390":function(e,t,n){"use strict";var r=n("02f4")(!0);e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},"0bfb":function(e,t,n){"use strict";var r=n("cb7c");e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},"11e9":function(t,n,r){var a=r("52a7"),o=r("4630"),i=r("6821"),c=r("6a99"),s=r("69a8"),l=r("c69a"),u=Object.getOwnPropertyDescriptor;n.f=r("9e1e")?u:function(t,n){if(t=i(t),n=c(n,!0),l)try{return u(t,n)}catch(e){}if(s(t,n))return o(!a.f.call(t,n),t[n])}},"214f":function(e,t,n){"use strict";n("b0c5");var r=n("2aba"),a=n("32e9"),o=n("79e5"),i=n("be13"),c=n("2b4c"),s=n("520a"),l=c("species"),u=!o((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),f=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();e.exports=function(e,t,n){var d=c(e),p=!o((function(){var t={};return t[d]=function(){return 7},7!=""[e](t)})),g=p?!o((function(){var t=!1,n=/a/;return n.exec=function(){return t=!0,null},"split"===e&&(n.constructor={},n.constructor[l]=function(){return n}),n[d](""),!t})):void 0;if(!p||!g||"replace"===e&&!u||"split"===e&&!f){var m=/./[d],v=n(i,d,""[e],(function(e,t,n,r,a){return t.exec===s?p&&!a?{done:!0,value:m.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}})),b=v[0],h=v[1];r(String.prototype,e,b),a(RegExp.prototype,d,2==t?function(e,t){return h.call(e,this,t)}:function(e){return h.call(e,this)})}}},"3d75":function(t,n,r){"use strict";r.r(n);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"renz"}},[n("div",{attrs:{id:"title"}},[n("div",{staticClass:"left",on:{click:e.gopersonal}},[n("i",{staticClass:"el-icon-arrow-left fanhui"}),n("span",{staticClass:"myboke"},[e._v("返回")])])]),n("div",{attrs:{id:"btn_modify"}},[n("button",{ref:"cdis",staticClass:"btn",style:e.cdis,attrs:{type:"info",plain:"",disabled:e.dis},on:{click:function(t){return e.faceReg()}}},[n("span",[e._v("头像认证"),e.dis?n("span",[e._v("已完成")]):e._e()]),e.dis?e._e():n("i",{staticClass:"el-icon-arrow-right"}),e.dis?n("i",{staticClass:"el-icon-check"}):e._e()]),n("button",{ref:"cdisa",staticClass:"btn",style:e.cdisa,attrs:{type:"info",plain:"",disabled:e.disa},on:{click:function(t){e.renzname=!0}}},[n("span",[e._v("实名认证"),e.disa?n("span",[e._v("已完成")]):e._e()]),e.disa?e._e():n("i",{staticClass:"el-icon-arrow-right"}),e.disa?n("i",{staticClass:"el-icon-check"}):e._e()]),n("el-dialog",{attrs:{title:"实名认证",visible:e.renzname,width:"85%","append-to-body":""},on:{"update:visible":function(t){e.renzname=t}}},[n("el-form",{ref:"nameform",attrs:{model:e.nameform,rules:e.rules}},[n("el-form-item",{staticClass:"new_name",attrs:{label:"真实姓名：",prop:"name"}},[n("el-input",{ref:"name",staticClass:"new_name_input name",attrs:{autocomplete:"off",clearable:""},model:{value:e.nameform.name,callback:function(t){e.$set(e.nameform,"name",t)},expression:"nameform.name"}})],1)],1),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{staticClass:"ann",on:{click:function(t){e.renzname=!1}}},[e._v("取 消")]),n("el-button",{staticClass:"ann",attrs:{type:"primary"},on:{click:function(t){return e.renz_name("nameform")}}},[e._v("提 交")])],1)],1),n("button",{ref:"cdis",staticClass:"btn",style:e.cdisb,attrs:{type:"info",plain:"",disabled:e.cdisb},on:{click:function(t){e.renzpword=!0}}},[n("span",[e._v("支付密码设置"),e.disb?n("span",[e._v("已完成")]):e._e()]),e.disb?e._e():n("i",{staticClass:"el-icon-arrow-right"}),e.disb?n("i",{staticClass:"el-icon-check"}):e._e()]),n("el-dialog",{attrs:{title:"支付密码设置",visible:e.renzpword,width:"85%","append-to-body":""},on:{"update:visible":function(t){e.renzpword=t}}},[n("el-form",{ref:"pwordform",attrs:{model:e.pwordform,rules:e.rules}},[n("el-form-item",{attrs:{label:"支付密码:",prop:"pword"}},[n("el-input",{ref:"pword",staticClass:"newnameinput",attrs:{id:"pword",placeholder:"请输入支付密码",clearable:"","show-pword":""},model:{value:e.pwordform.pword,callback:function(t){e.$set(e.pwordform,"pword",t)},expression:"pwordform.pword"}})],1),n("el-form-item",{attrs:{id:"code",label:"确认密码:",prop:"confirm_pword"}},[n("el-input",{ref:"confirm_pword",staticClass:"newnameinput",attrs:{id:"confirm_pword",placeholder:"请输入确认密码",clearable:"","show-pword":""},model:{value:e.pwordform.confirm_pword,callback:function(t){e.$set(e.pwordform,"confirm_pword",t)},expression:"pwordform.confirm_pword"}})],1)],1),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{staticClass:"ann",on:{click:function(t){e.renzpword=!1}}},[e._v("取 消")]),n("el-button",{staticClass:"ann",attrs:{type:"primary"},on:{click:function(t){return e.renz_pword("pwordform")}}},[e._v("提 交")])],1)],1)],1)])},o=[],i=(r("c5f6"),r("7f7f"),r("a481"),r("2f62"),r("e7c4"),{data:function(){var e=this,t=function(t,n,r){""===n?r(new Error("请再次输入密码")):n!==e.pwordform.pword?r(new Error("两次输入密码不一致!")):r()};return{count:"获取",ov:!1,dis:!1,disa:!1,disb:!1,disc:!1,renzpword:!1,renzname:!1,cdis:{color:""},cdisa:{color:""},cdisb:{color:""},pwordform:{pword:"",confirm_pword:""},nameform:{name:""},rules:{name:[{required:!0,message:"请输入姓名",trigger:"blur"},{min:2,max:5,message:"长度在 2 到 5 个字符",trigger:"blur"}],pword:[{required:!0,message:"请输入支付密码",trigger:"blur"},{pattern:/^[A-Za-z0-9]{6,14}$/,min:6,max:12,message:"长度在 6 到 12 个数字或英文字符",trigger:"blur"}],confirm_pword:[{required:!0,validator:t,trigger:"blur"}]}}},created:function(){var e=this,t=this.$http+"/getMyInfo",n=localStorage.getItem("token");this.$axios.get(t,{params:{token:n}}).then((function(t){var n=String(t.data.data.validStatus),r=t.data.data.realname;r&&(e.disa=!0,e.cdisa.background="#909399",localStorage.setItem("realname",r)),n.indexOf("face")>-1&&(e.dis=!0,e.cdis.background="#909399")})).catch((function(e){console.log("错误信息"+e)}))},methods:{gopersonal:function(){this.$router.replace("/personal")},faceReg:function(){var t={};function n(e){t.AutoClip=!!e,plus.facePlug.faceliveness(t,(function(e){e.base64Image&&r(e.base64Image)}),(function(e){console.log("加载失败："+JSON.stringify(e))}))}function r(t){var n=new plus.nativeObj.Bitmap("test");n.loadBase64Data(t,(function(e){n.save("_doc/_tmp/ocr"+(new Date).getTime()+".png",{},(function(e){var t=e.target;txdj(t)}))}),(function(){console.log("加载Base64图片数据失败："+JSON.stringify(e))}))}t={licenseName:"idl-license",licenseSuffix:"face-android",licenseId:"tuijianb-face-android",liveActionArray:["Eye","HeadUp","HeadLeftOrRight"],AutoClip:!1,isBackCamera:!1},"iOS"==plus.os.name&&(t.licenseSuffix="face-ios",t.licenseId="tuijianb-face-ios"),plus.key.addEventListener("backbutton",(function(){plus.runtime.quit()}),!1),n(!0)},txdj:function(e){var t=_this.$http+"/faceReg",n=localStorage.getItem("token"),r=plus.uploader.createUpload(t,{method:"post",blocksize:204800,timeout:10},(function(e,t){if(200==t){var n=e.responseText.slice(8,9);0==n?alert("登记成功"):alert("登记失败，请重新拍照上传")}plus.uploader.clear()}));r.addFile(e,{key:"file"}),r.addData("token",n),r.start()},txrz:function(){var e=null;function t(){var e=plus.camera.getCamera();e.captureImage((function(e){plus.io.resolveLocalFileSystemURL(e,(function(e){var t=e.toLocalURL();n(t)}),(function(e){console.log("读取拍照文件错误："+e.message)}))}),(function(e){console.log("读取拍照文件错误："+e.message)}),{filename:"_doc/camera/",index:1})}function n(e){var t=(new Date).getTime();plus.zip.compressImage({src:e,dst:"_doc/"+t+".jpg",overwrite:!0,width:"480px",height:"640px",format:"jpg",quality:100},(function(e){plus.nativeUI.closeWaiting(),a(e.target)}),(function(e){plus.nativeUI.alert("未知错误！",(function(){}))}))}e={imgUp:function(){plus.nativeUI.actionSheet({cancel:"取消",buttons:[{title:"拍照"}]},(function(e){switch(e.index){case 1:t();break;default:break}}))}};var r=this;function a(e){var t=r.$http+"/faceValid",n=localStorage.getItem("_account"),a=plus.uploader.createUpload(t,{method:"post",blocksize:204800,timeout:10},(function(e,t){if(200==t){var n=e.responseText.slice(8,9);0==n?alert("认证成功"):alert("验证失败，请重新拍照上传")}plus.uploader.clear()}));a.addFile(e,{key:"file"}),a.addData("account",n),a.start()}e.imgUp()},renz_pword:function(e){var t=this;plus.nativeUI.showWaiting();this.$refs[e].validate((function(n){if(!n)return plus.nativeUI.closeWaiting(),console.log("error submit!!"),!1;var r=t.$refs.pword.value,a=localStorage.getItem("token"),o=t.$http+"/changeMoneyPasswd",i={newpasswd:r,token:a},c=t.$qs.stringify(i),s={headers:{"Content-Type":"application/x-www-form-urlencoded"}};t.$axios.post(o,c,s).then((function(n){plus.nativeUI.closeWaiting();var r=Number(n.data.code),a=n.data.token;localStorage.setItem("token",a),-1!==r?(t.$notify({title:"成功",message:n.data.message,type:"success"}),t.$refs[e].resetFields(),t.renzpword=!1):t.$notify({title:"提示",message:n.data.message,type:"warning"})})).catch((function(e){console.log("错误信息"+e)}))}))},renz_name:function(e){var t=this;plus.nativeUI.showWaiting();this.$refs[e].validate((function(n){if(!n)return plus.nativeUI.closeWaiting(),console.log("error submit!!"),!1;t.dialogFormVisible=!1,t.$refs[e].resetFields();var r=t.$http+"/changeMyInfo",a=t.$refs.name.value,o=localStorage.getItem("nickname"),i=localStorage.getItem("token"),c={nickname:o,realname:a,token:i},s=t.$qs.stringify(c),l={headers:{"Content-Type":"application/x-www-form-urlencoded"}};t.$axios.post(r,s,l).then((function(e){plus.nativeUI.closeWaiting();var n=Number(e.data.code),r=e.data.token;localStorage.setItem("token",r),-1!==n?(t.$notify({title:"成功",message:e.data.message,type:"success"}),t.renzname=!1):t.$notify({title:"提示",message:e.data.message,type:"warning"})})).catch((function(e){console.log("错误信息"+e)}))}))},mbcs:function(){this.$router.replace("/personal/mybankcards")}}}),c=i,s=(r("dff8"),r("2877")),l=Object(s["a"])(c,a,o,!1,null,"a865094a",null);n["default"]=l.exports},"520a":function(e,t,n){"use strict";var r=n("0bfb"),a=RegExp.prototype.exec,o=String.prototype.replace,i=a,c="lastIndex",s=function(){var e=/a/,t=/b*/g;return a.call(e,"a"),a.call(t,"a"),0!==e[c]||0!==t[c]}(),l=void 0!==/()??/.exec("")[1],u=s||l;u&&(i=function(e){var t,n,i,u,f=this;return l&&(n=new RegExp("^"+f.source+"$(?!\\s)",r.call(f))),s&&(t=f[c]),i=a.call(f,e),s&&i&&(f[c]=f.global?i.index+i[0].length:t),l&&i&&i.length>1&&o.call(i[0],n,(function(){for(u=1;u<arguments.length-2;u++)void 0===arguments[u]&&(i[u]=void 0)})),i}),e.exports=i},"5dbc":function(e,t,n){var r=n("d3f4"),a=n("8b97").set;e.exports=function(e,t,n){var o,i=t.constructor;return i!==n&&"function"==typeof i&&(o=i.prototype)!==n.prototype&&r(o)&&a&&a(e,o),e}},"5f1b":function(e,t,n){"use strict";var r=n("23c6"),a=RegExp.prototype.exec;e.exports=function(e,t){var n=e.exec;if("function"===typeof n){var o=n.call(e,t);if("object"!==typeof o)throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(e))throw new TypeError("RegExp#exec called on incompatible receiver");return a.call(e,t)}},"8b97":function(t,n,r){var a=r("d3f4"),o=r("cb7c"),i=function(e,t){if(o(e),!a(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,n,a){try{a=r("9b43")(Function.call,r("11e9").f(Object.prototype,"__proto__").set,2),a(t,[]),n=!(t instanceof Array)}catch(e){n=!0}return function(e,t){return i(e,t),n?e.__proto__=t:a(e,t),e}}({},!1):void 0),check:i}},9093:function(e,t,n){var r=n("ce10"),a=n("e11e").concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,a)}},a481:function(e,t,n){"use strict";var r=n("cb7c"),a=n("4bf8"),o=n("9def"),i=n("4588"),c=n("0390"),s=n("5f1b"),l=Math.max,u=Math.min,f=Math.floor,d=/\$([$&`']|\d\d?|<[^>]*>)/g,p=/\$([$&`']|\d\d?)/g,g=function(e){return void 0===e?e:String(e)};n("214f")("replace",2,(function(e,t,n,m){return[function(r,a){var o=e(this),i=void 0==r?void 0:r[t];return void 0!==i?i.call(r,o,a):n.call(String(o),r,a)},function(e,t){var a=m(n,e,this,t);if(a.done)return a.value;var f=r(e),d=String(this),p="function"===typeof t;p||(t=String(t));var b=f.global;if(b){var h=f.unicode;f.lastIndex=0}var w=[];while(1){var y=s(f,d);if(null===y)break;if(w.push(y),!b)break;var x=String(y[0]);""===x&&(f.lastIndex=c(d,o(f.lastIndex),h))}for(var _="",k=0,I=0;I<w.length;I++){y=w[I];for(var S=String(y[0]),$=l(u(i(y.index),d.length),0),C=[],E=1;E<y.length;E++)C.push(g(y[E]));var N=y.groups;if(p){var z=[S].concat(C,$,d);void 0!==N&&z.push(N);var A=String(t.apply(void 0,z))}else A=v(S,d,$,C,N,t);$>=k&&(_+=d.slice(k,$)+A,k=$+S.length)}return _+d.slice(k)}];function v(e,t,r,o,i,c){var s=r+e.length,l=o.length,u=p;return void 0!==i&&(i=a(i),u=d),n.call(c,u,(function(n,a){var c;switch(a.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,r);case"'":return t.slice(s);case"<":c=i[a.slice(1,-1)];break;default:var u=+a;if(0===u)return n;if(u>l){var d=f(u/10);return 0===d?n:d<=l?void 0===o[d-1]?a.charAt(1):o[d-1]+a.charAt(1):n}c=o[u-1]}return void 0===c?"":c}))}}))},aa77:function(e,t,n){var r=n("5ca1"),a=n("be13"),o=n("79e5"),i=n("fdef"),c="["+i+"]",s="​",l=RegExp("^"+c+c+"*"),u=RegExp(c+c+"*$"),f=function(e,t,n){var a={},c=o((function(){return!!i[e]()||s[e]()!=s})),l=a[e]=c?t(d):i[e];n&&(a[n]=l),r(r.P+r.F*c,"String",a)},d=f.trim=function(e,t){return e=String(a(e)),1&t&&(e=e.replace(l,"")),2&t&&(e=e.replace(u,"")),e};e.exports=f},b0c5:function(e,t,n){"use strict";var r=n("520a");n("5ca1")({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},c5f6:function(e,t,n){"use strict";var r=n("7726"),a=n("69a8"),o=n("2d95"),i=n("5dbc"),c=n("6a99"),s=n("79e5"),l=n("9093").f,u=n("11e9").f,f=n("86cc").f,d=n("aa77").trim,p="Number",g=r[p],m=g,v=g.prototype,b=o(n("2aeb")(v))==p,h="trim"in String.prototype,w=function(e){var t=c(e,!1);if("string"==typeof t&&t.length>2){t=h?t.trim():d(t,3);var n,r,a,o=t.charCodeAt(0);if(43===o||45===o){if(n=t.charCodeAt(2),88===n||120===n)return NaN}else if(48===o){switch(t.charCodeAt(1)){case 66:case 98:r=2,a=49;break;case 79:case 111:r=8,a=55;break;default:return+t}for(var i,s=t.slice(2),l=0,u=s.length;l<u;l++)if(i=s.charCodeAt(l),i<48||i>a)return NaN;return parseInt(s,r)}}return+t};if(!g(" 0o1")||!g("0b1")||g("+0x1")){g=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof g&&(b?s((function(){v.valueOf.call(n)})):o(n)!=p)?i(new m(w(t)),n,g):w(t)};for(var y,x=n("9e1e")?l(m):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),_=0;x.length>_;_++)a(m,y=x[_])&&!a(g,y)&&f(g,y,u(m,y));g.prototype=v,v.constructor=g,n("2aba")(r,p,g)}},dd1b:function(e,t,n){},dff8:function(e,t,n){"use strict";var r=n("dd1b"),a=n.n(r);a.a},e7c4:function(e,t){document.addEventListener("plusready",(function(){var e="faceplugin",t=window.plus.bridge,n={faceliveness:function(n,r,a){var o="function"!==typeof r?null:function(e){r(e)},i="function"!==typeof a?null:function(e){a(e)};return callbackID=t.callbackId(o,i),t.exec(e,"faceliveness",[callbackID,n])},recycler:function(n,r,a){var o="function"!==typeof r?null:function(e){r(e)},i="function"!==typeof a?null:function(e){a(e)};return callbackID=t.callbackId(o,i),t.exec(e,"recycler",[callbackID,n])}};window.plus.facePlug=n}),!0)},fdef:function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);
//# sourceMappingURL=renz.8a8ab134.js.map