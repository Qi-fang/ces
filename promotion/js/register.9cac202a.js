(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["register"],{"02f4":function(e,r,t){var n=t("4588"),a=t("be13");e.exports=function(e){return function(r,t){var o,c,i=String(a(r)),s=n(t),l=i.length;return s<0||s>=l?e?"":void 0:(o=i.charCodeAt(s),o<55296||o>56319||s+1===l||(c=i.charCodeAt(s+1))<56320||c>57343?e?i.charAt(s):o:e?i.slice(s,s+2):c-56320+(o-55296<<10)+65536)}}},"0390":function(e,r,t){"use strict";var n=t("02f4")(!0);e.exports=function(e,r,t){return r+(t?n(e,r).length:1)}},"0bfb":function(e,r,t){"use strict";var n=t("cb7c");e.exports=function(){var e=n(this),r="";return e.global&&(r+="g"),e.ignoreCase&&(r+="i"),e.multiline&&(r+="m"),e.unicode&&(r+="u"),e.sticky&&(r+="y"),r}},"11e9":function(e,r,t){var n=t("52a7"),a=t("4630"),o=t("6821"),c=t("6a99"),i=t("69a8"),s=t("c69a"),l=Object.getOwnPropertyDescriptor;r.f=t("9e1e")?l:function(e,r){if(e=o(e),r=c(r,!0),s)try{return l(e,r)}catch(t){}if(i(e,r))return a(!n.f.call(e,r),e[r])}},"214f":function(e,r,t){"use strict";t("b0c5");var n=t("2aba"),a=t("32e9"),o=t("79e5"),c=t("be13"),i=t("2b4c"),s=t("520a"),l=i("species"),u=!o((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),f=function(){var e=/(?:)/,r=e.exec;e.exec=function(){return r.apply(this,arguments)};var t="ab".split(e);return 2===t.length&&"a"===t[0]&&"b"===t[1]}();e.exports=function(e,r,t){var p=i(e),d=!o((function(){var r={};return r[p]=function(){return 7},7!=""[e](r)})),g=d?!o((function(){var r=!1,t=/a/;return t.exec=function(){return r=!0,null},"split"===e&&(t.constructor={},t.constructor[l]=function(){return t}),t[p](""),!r})):void 0;if(!d||!g||"replace"===e&&!u||"split"===e&&!f){var m=/./[p],v=t(c,p,""[e],(function(e,r,t,n,a){return r.exec===s?d&&!a?{done:!0,value:m.call(r,t,n)}:{done:!0,value:e.call(t,r,n)}:{done:!1}})),h=v[0],b=v[1];n(String.prototype,e,h),a(RegExp.prototype,p,2==r?function(e,r){return b.call(e,this,r)}:function(e){return b.call(e,this)})}}},"520a":function(e,r,t){"use strict";var n=t("0bfb"),a=RegExp.prototype.exec,o=String.prototype.replace,c=a,i="lastIndex",s=function(){var e=/a/,r=/b*/g;return a.call(e,"a"),a.call(r,"a"),0!==e[i]||0!==r[i]}(),l=void 0!==/()??/.exec("")[1],u=s||l;u&&(c=function(e){var r,t,c,u,f=this;return l&&(t=new RegExp("^"+f.source+"$(?!\\s)",n.call(f))),s&&(r=f[i]),c=a.call(f,e),s&&c&&(f[i]=f.global?c.index+c[0].length:r),l&&c&&c.length>1&&o.call(c[0],t,(function(){for(u=1;u<arguments.length-2;u++)void 0===arguments[u]&&(c[u]=void 0)})),c}),e.exports=c},"597d":function(e,r,t){"use strict";var n=t("8e8f"),a=t.n(n);a.a},"5dbc":function(e,r,t){var n=t("d3f4"),a=t("8b97").set;e.exports=function(e,r,t){var o,c=r.constructor;return c!==t&&"function"==typeof c&&(o=c.prototype)!==t.prototype&&n(o)&&a&&a(e,o),e}},"5f1b":function(e,r,t){"use strict";var n=t("23c6"),a=RegExp.prototype.exec;e.exports=function(e,r){var t=e.exec;if("function"===typeof t){var o=t.call(e,r);if("object"!==typeof o)throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==n(e))throw new TypeError("RegExp#exec called on incompatible receiver");return a.call(e,r)}},"8b97":function(e,r,t){var n=t("d3f4"),a=t("cb7c"),o=function(e,r){if(a(e),!n(r)&&null!==r)throw TypeError(r+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,r,n){try{n=t("9b43")(Function.call,t("11e9").f(Object.prototype,"__proto__").set,2),n(e,[]),r=!(e instanceof Array)}catch(a){r=!0}return function(e,t){return o(e,t),r?e.__proto__=t:n(e,t),e}}({},!1):void 0),check:o}},"8e8f":function(e,r,t){},9093:function(e,r,t){var n=t("ce10"),a=t("e11e").concat("length","prototype");r.f=Object.getOwnPropertyNames||function(e){return n(e,a)}},a481:function(e,r,t){"use strict";var n=t("cb7c"),a=t("4bf8"),o=t("9def"),c=t("4588"),i=t("0390"),s=t("5f1b"),l=Math.max,u=Math.min,f=Math.floor,p=/\$([$&`']|\d\d?|<[^>]*>)/g,d=/\$([$&`']|\d\d?)/g,g=function(e){return void 0===e?e:String(e)};t("214f")("replace",2,(function(e,r,t,m){return[function(n,a){var o=e(this),c=void 0==n?void 0:n[r];return void 0!==c?c.call(n,o,a):t.call(String(o),n,a)},function(e,r){var a=m(t,e,this,r);if(a.done)return a.value;var f=n(e),p=String(this),d="function"===typeof r;d||(r=String(r));var h=f.global;if(h){var b=f.unicode;f.lastIndex=0}var x=[];while(1){var _=s(f,p);if(null===_)break;if(x.push(_),!h)break;var y=String(_[0]);""===y&&(f.lastIndex=i(p,o(f.lastIndex),b))}for(var w="",$=0,F=0;F<x.length;F++){_=x[F];for(var k=String(_[0]),I=l(u(c(_.index),p.length),0),E=[],N=1;N<_.length;N++)E.push(g(_[N]));var C=_.groups;if(d){var S=[k].concat(E,I,p);void 0!==C&&S.push(C);var A=String(r.apply(void 0,S))}else A=v(k,p,I,E,C,r);I>=$&&(w+=p.slice($,I)+A,$=I+k.length)}return w+p.slice($)}];function v(e,r,n,o,c,i){var s=n+e.length,l=o.length,u=d;return void 0!==c&&(c=a(c),u=p),t.call(i,u,(function(t,a){var i;switch(a.charAt(0)){case"$":return"$";case"&":return e;case"`":return r.slice(0,n);case"'":return r.slice(s);case"<":i=c[a.slice(1,-1)];break;default:var u=+a;if(0===u)return t;if(u>l){var p=f(u/10);return 0===p?t:p<=l?void 0===o[p-1]?a.charAt(1):o[p-1]+a.charAt(1):t}i=o[u-1]}return void 0===i?"":i}))}}))},aa77:function(e,r,t){var n=t("5ca1"),a=t("be13"),o=t("79e5"),c=t("fdef"),i="["+c+"]",s="​",l=RegExp("^"+i+i+"*"),u=RegExp(i+i+"*$"),f=function(e,r,t){var a={},i=o((function(){return!!c[e]()||s[e]()!=s})),l=a[e]=i?r(p):c[e];t&&(a[t]=l),n(n.P+n.F*i,"String",a)},p=f.trim=function(e,r){return e=String(a(e)),1&r&&(e=e.replace(l,"")),2&r&&(e=e.replace(u,"")),e};e.exports=f},b0c5:function(e,r,t){"use strict";var n=t("520a");t("5ca1")({target:"RegExp",proto:!0,forced:n!==/./.exec},{exec:n})},c5f6:function(e,r,t){"use strict";var n=t("7726"),a=t("69a8"),o=t("2d95"),c=t("5dbc"),i=t("6a99"),s=t("79e5"),l=t("9093").f,u=t("11e9").f,f=t("86cc").f,p=t("aa77").trim,d="Number",g=n[d],m=g,v=g.prototype,h=o(t("2aeb")(v))==d,b="trim"in String.prototype,x=function(e){var r=i(e,!1);if("string"==typeof r&&r.length>2){r=b?r.trim():p(r,3);var t,n,a,o=r.charCodeAt(0);if(43===o||45===o){if(t=r.charCodeAt(2),88===t||120===t)return NaN}else if(48===o){switch(r.charCodeAt(1)){case 66:case 98:n=2,a=49;break;case 79:case 111:n=8,a=55;break;default:return+r}for(var c,s=r.slice(2),l=0,u=s.length;l<u;l++)if(c=s.charCodeAt(l),c<48||c>a)return NaN;return parseInt(s,n)}}return+r};if(!g(" 0o1")||!g("0b1")||g("+0x1")){g=function(e){var r=arguments.length<1?0:e,t=this;return t instanceof g&&(h?s((function(){v.valueOf.call(t)})):o(t)!=d)?c(new m(x(r)),t,g):x(r)};for(var _,y=t("9e1e")?l(m):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;y.length>w;w++)a(m,_=y[w])&&!a(g,_)&&f(g,_,u(m,_));g.prototype=v,v.constructor=g,t("2aba")(n,d,g)}},ea78:function(e,r,t){"use strict";t.r(r);var n=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{attrs:{id:"register"}},[t("div",{staticClass:"register"},[t("header",[e._v("账号注册")]),t("router-link",{attrs:{id:"login",to:"/login"}},[e._v("\n\t\t\t返回\n\t\t")]),t("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"85px"}},[t("el-form-item",{attrs:{label:"账号:",prop:"r_account"}},[t("el-input",{ref:"r_account",staticClass:"r_account",attrs:{placeholder:"请输入账号",clearable:""},model:{value:e.ruleForm.r_account,callback:function(r){e.$set(e.ruleForm,"r_account",r)},expression:"ruleForm.r_account"}})],1),t("el-form-item",{attrs:{label:"昵称:",prop:"r_nickname"}},[t("el-input",{ref:"r_nickname",staticClass:"r_nickname",attrs:{placeholder:"请输入昵称",clearable:""},model:{value:e.ruleForm.r_nickname,callback:function(r){e.$set(e.ruleForm,"r_nickname",r)},expression:"ruleForm.r_nickname"}})],1),t("el-form-item",{attrs:{label:"登录密码:",prop:"password"}},[t("el-input",{ref:"password",staticClass:"password",attrs:{placeholder:"请输入登录密码",clearable:"","show-password":""},model:{value:e.ruleForm.password,callback:function(r){e.$set(e.ruleForm,"password",r)},expression:"ruleForm.password"}})],1),t("el-form-item",{attrs:{label:"确认密码:",prop:"r_cp"}},[t("el-input",{ref:"r_cp",staticClass:"r_cp",attrs:{placeholder:"请再次输入登录密码",clearable:"","show-password":""},model:{value:e.ruleForm.r_cp,callback:function(r){e.$set(e.ruleForm,"r_cp",r)},expression:"ruleForm.r_cp"}})],1),t("el-form-item",{attrs:{label:"手机号:",prop:"phone1"}},[t("el-input",{ref:"phone1",staticClass:"code1",attrs:{id:"phone1",placeholder:"请输入手机号码",clearable:""},model:{value:e.ruleForm.phone1,callback:function(r){e.$set(e.ruleForm,"phone1",r)},expression:"ruleForm.phone1"}})],1),t("el-form-item",{attrs:{id:"code1",label:"验证码:",prop:"code1"}},[t("el-input",{ref:"code1",staticClass:"code1",attrs:{placeholder:"验证码"},model:{value:e.ruleForm.code1,callback:function(r){e.$set(e.ruleForm,"code1",r)},expression:"ruleForm.code1"}}),t("input",{directives:[{name:"model",rawName:"v-model",value:e.count,expression:"count"}],staticClass:"ann",attrs:{id:"phone_btn",type:"button"},domProps:{value:e.count},on:{click:e.btnCheck1,input:function(r){r.target.composing||(e.count=r.target.value)}}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(r){return e.submitForm("ruleForm")}}},[e._v("注册")]),t("el-button",{on:{click:function(r){return e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1)],1)])},a=[],o=(t("a481"),t("c5f6"),{data:function(){var e=this,r=function(r,t,n){""===t?n(new Error("请再次输入密码")):t!==e.ruleForm.password?n(new Error("两次输入密码不一致!")):n()};return{count:"获取",ruleForm:{r_account:"",r_nickname:"",password:"",pword:"",r_cp:"",name:"",phone1:"",code1:""},rules:{r_account:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:6,max:15,message:"长度在 6 到 15 个字符",trigger:"blur"}],r_nickname:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:15,message:"长度在 3 到 15 个字符",trigger:"blur"}],password:[{required:!0,message:"请输入登录密码",trigger:"blur"},{pattern:/^[A-Za-z0-9]{6,14}$/,min:6,max:12,message:"长度在 6 到 12 个数字或英文字符",trigger:"blur"}],r_cp:[{required:!0,validator:r,trigger:"blur"}],pword:[{required:!0,message:"请输入支付密码",trigger:"blur"},{pattern:/^[0-9]{6}$/,message:"请输入6位数支付密码",trigger:"blur"}],name:[{required:!0,message:"请输入真实姓名",trigger:"blur"},{min:2,max:5,message:"长度在 2 到 5 个字符",trigger:"blur"}],phone1:[{required:!0,message:"请输入手机号码",trigger:"blur"},{pattern:/^1[3456789]\d{9}$/,message:"请输入11位手机号",trigger:"blur"}],code1:[{required:!0,message:"请输入验证码",trigger:"blur"},{pattern:/^[0-9]{6}$/,message:"请输入6位数的验证码",trigger:"blur"}]}}},methods:{btnCheck1:function(){var e=this,r=this.$refs.phone1.value,t=/^[1][3,4,5,7,8][0-9]{9}$/;if(t.test(r)){var n=60,a=this.$http+"/getSmsValidCode";this.$axios.get(a,{params:{tel:r}}).then((function(r){var t=Number(r.data.code);-1!==t?(e.$notify({title:"成功",message:r.data.message,type:"success"}),e.timer||(e.count=n,e.timer=setInterval((function(){e.count>1&&e.count<=n?e.count--:(clearInterval(e.timer),e.timer=null,e.count="获取")}),1e3))):e.$notify({title:"提示",message:r.data.message,type:"warning"})})).catch((function(e){console.log("错误信息"+e)}))}else this.$notify({title:"提示",message:"请正确输入手机号码",type:"warning"})},submitForm:function(e){var r=this;plus.nativeUI.showWaiting();this.$refs[e].validate((function(e){if(!e)return plus.nativeUI.closeWaiting(),console.log("error submit!!"),r.$message({message:"注册失败，请重新注册",type:"warning"}),!1;var t=r.$refs.r_account.value;localStorage.setItem("_account",t);var n=r.$refs.password.value,a=r.$refs.r_nickname.value,o=r.$refs.phone1.value,c=r.$refs.code1.value,i="0",s=r.$http+"/smsValidCode",l={account:t,code:c},u=r.$qs.stringify(l),f=r.$http+"/reg",p={account:t,passwd:n,tel:o,nickname:a,smsCode:c,code:i},d=r.$qs.stringify(p),g=r.$http+"/login",m={username:t,passwd:n},v=r.$qs.stringify(m),h={headers:{"Content-Type":"application/x-www-form-urlencoded"}};r.$axios.post(s,u,h).then((function(e){plus.nativeUI.closeWaiting();var t=Number(e.data.code);-1!==t?r.$axios.post(f,d,h).then((function(e){-1!==Number(e.data.code)?r.$axios.post(g,v,h).then((function(e){var t=e.data.token,n=Number(e.data.code);window.localStorage.setItem("token",t),-1!==n?(r.$router.replace("/recommend"),r.$notify({title:"成功",message:"欢迎莅临",type:"success"})):r.$notify({title:"提示",message:e.data.message,type:"warning"})})).catch((function(e){console.log("错误信息"+e)})):r.$notify({title:"提示",message:e.data.message,type:"warning"})})).catch((function(e){console.log("错误信息"+e)})):r.$notify({title:"提示",message:e.data.message,type:"warning"})})).catch((function(e){console.log("错误信息"+e)}))}))},resetForm:function(e){this.$refs[e].resetFields()}}}),c=o,i=(t("597d"),t("2877")),s=Object(i["a"])(c,n,a,!1,null,"051cde61",null);r["default"]=s.exports},fdef:function(e,r){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);
//# sourceMappingURL=register.9cac202a.js.map